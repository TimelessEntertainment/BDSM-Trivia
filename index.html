<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BDSM Trivia Player</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: url('background.jpg') no-repeat center center fixed;
    background-size: cover;
    color: white;
    text-align: center;
  }

  #roundName {
    font-size: 36px;
    margin-top: 100px;
  }

  #currentQuestion {
    font-size: 48px;
    margin-top: 30px;
  }

  #currentAnswer {
    font-size: 48px;
    margin-top: 30px;
  }
</style>
</head>
<body>

<div id="roundName">Round 1 Question 1</div>
<div id="currentQuestion">Loading question...</div>
<div id="currentAnswer" class="hidden">Answer</div>

<script>
const roundNameEl = document.getElementById('roundName');
const questionEl = document.getElementById('currentQuestion');
const answerEl = document.getElementById('currentAnswer');

// Update function
function updatePlayerScreen() {
  const gameData = JSON.parse(localStorage.getItem('gameData') || '[]');
  const roundIndex = parseInt(localStorage.getItem('currentRound')) || 0;
  const questionIndex = parseInt(localStorage.getItem('currentQuestion')) || 0;
  const showAnswer = localStorage.getItem('showAnswer') === 'true';

  if (!gameData[roundIndex]) return;

  const round = gameData[roundIndex];
  const questionObj = round.questions[questionIndex];

  roundNameEl.textContent = `${round.round} Question ${questionIndex + 1}`;
  questionEl.textContent = questionObj.question;
  answerEl.textContent = questionObj.answer;
  answerEl.style.display = showAnswer ? 'block' : 'none';
}

// Polling every 200ms to sync with host
setInterval(updatePlayerScreen, 200);
</script>

</body>
</html>
